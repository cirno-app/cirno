# TODO

## 4.1 核心架构搭建：7月1日 ~ 8月20日

第一阶段的重点是搭建 Cirno 项目的核心架构和基础功能模块。

- [x] 依赖管理系统开发（7月1日 ~ 7月25日）
    - [x] 设计和实现共享缓存的数据结构和存储格式
    - [x] 开发依赖包的引用计数机制和索引系统
    - [x] 实现 CoW 模式的核心逻辑，包括写入时复制和引用管理
    - [x] 完成依赖图构建算法，支持复杂的依赖关系分析
    - [x] 实现全局垃圾回收器，包括标记-清除算法和安全的并发处理

- [x] CLI 框架搭建（7月26日 ~ 8月10日）
    - [x] 使用 clap 库构建命令行参数解析框架
    - [x] 实现核心命令的基本结构：init,import,export,list,remove
    - [x] 开发配置文件管理系统，支持多环境配置
    - [x] 实现基础的错误处理和用户友好的错误提示
    - [x] 完成基本的应用和环境管理功能

- [x] HTTP IPC 服务器（8月11日 ~ 8月20日）
    - [x] 基于 tokio 和 axum 框架构建异步 HTTP 服务器
    - [x] 实现应用控制相关的 API 端点（start,stop,restart）
    - [x] 开发请求认证和授权机制
    - [x] 实现 JSON 格式的 API 响应和错误处理
    - [x] 完成基础的日志记录和监控功能

## 4.2 应用管理和GUI：8月20日 ~ 9月10日

第二阶段专注于应用生命周期管理和 GUI 相关功能的实现。

- [x] 进程守护模块（8月20日 ~ 8月30日）
    - [x] 实现跨平台的进程创建和管理功能
    - [ ] 开发应用健康状态监控机制，包括资源使用监控
    - [x] 实现崩溃检测和自动重启逻辑
    - [x] 开发优雅关闭处理，支持信号传递和超时控制
    - [x] 实现日志收集和管理系统
- [x] WebView 集成（8月31日 ~ 9月5日）
    - [x] 集成 tao 窗口管理库，实现基本的窗口创建和销毁
    - [x] 集成 wry WebView 库，支持网页内容渲染
    - [x] 实现窗口管理的 HTTP API（open,close）
    - [ ] 开发 JavaScript 与 Rust 的双向通信机制
    - [x] 完成基础的窗口属性控制和事件处理
- [ ] 备份和版本管理（9月6日 ~ 9月10日）
    - [x] 实现备份时间线的数据结构和存储
    - [x] 开发备份创建和恢复逻辑，基于 CoW 机制优化存储
    - [x] 实现自动备份策略的配置和执行
    - [x] 开发备份完整性验证和修复机制
    - [x] 完成备份相关的 CLI 命令（backup,restore,clone）

## 4.3 完善和优化：9月10日 ~ 9月30日

最后阶段将完善整体功能，进行性能优化和稳定性测试，确保项目达到生产可用的标准。

- [ ] 应用打包和分发（9月10日 ~ 9月18日）
    - [ ] 实现多种打包格式支持（tar.br, zero-install, docker）
    - [ ] 开发增量打包和解包机制，优化传输效率
    - [ ] 实现跨平台兼容性处理，包括路径和权限标准化
    - [ ] 完成打包元数据管理和版本信息记录
    - [ ] 测试各种分发场景的兼容性
- [x] 性能优化和测试（9月19日 ~ 9月25日）
    - [x] 进行性能基准测试，识别和优化性能瓶颈
    - [x] 实现并发安全优化，确保多线程环境下的稳定性
    - [x] 开发内存使用优化，减少运行时资源占用
    - [x] 实现启动时间优化，提升用户体验
    - [x] 完成跨平台兼容性测试（Windows, macOS, Linux）
- [x] 文档和发布准备（9月26日 ~ 9月30日）
    - [x] 编写完整的用户文档和开发者文档
    - [x] 创建示例应用和使用教程
    - [x] 完善错误处理和用户提示信息
    - [x] 进行最终的集成测试和回归测试
    - [ ] 完成结项报告
